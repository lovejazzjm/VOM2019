{"version":3,"sources":["pages/reducers/sideNaviId.js","pages/modules/apiPath.js","pages/actions/apiAction.js","pages/components/TopNaviList/TopNaviList.js","pages/containers/TopNaviContainer.js","pages/middleware/axios-middleware.js","pages/modules/store.js","pages/index.js"],"names":["getSideNaviId","URLSearchParams","document","location","search","get","sideNavi","createSlice","name","initialState","reducers","setSideNaviId","state","action","payload","actions","apiPath","apiAction","actionName","url","method","data","accessToken","headers","label","store","injectReducer","createReducerWithActionName","type","apiTopNavi","obj","api","TOPNAVI","apiSideNavi","SIDENAVI","apiMemberInfo","MEMBERINFO","TopNaviList","React","memo","el","Object","entries","map","i","key","value","href","TopNaviContainer","useSelector","result","dispatch","useDispatch","useEffect","className","apiMiddleware","next","dataOrParams","includes","axios","defaults","baseURL","process","REACT_APP_BASE_URL","common","request","then","catch","error","response","status","window","pathname","finally","isLoading","staticReducers","sideNaviId","sideNaviReducer","middleware","getDefaultMiddleware","axiosMiddleware","configureStore","reducer","asyncReducers","asyncReducer","console","log","replaceReducer","combineReducers","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/index.f9941ace.chunk.js","sourcesContent":["import { createSlice } from 'redux-starter-kit'\n\nconst getSideNaviId = new URLSearchParams(document.location.search).get(\"sideNaviId\") || '';\nconst sideNavi = createSlice({\n    name: 'sideNaviId',\n    initialState: getSideNaviId,\n    reducers: {\n        setSideNaviId:(state, action) => state = action.payload\n    }\n})\n\nexport const { setSideNaviId } = sideNavi.actions\nexport default sideNavi.reducer","const apiPath = {}\n\nif(process.env.NODE_ENV==='development'){ \n\n    apiPath.LOGIN = '../data/login.json'\n    apiPath.LOGOUT = '../data/logout.json'\n    apiPath.SIDENAVI = '../data/sideNavi.json'\n    apiPath.TOPNAVI = '../data/topNavi.json'\n    apiPath.MEMBERINFO = '../data/memberInfo.json'\n\n}else{    \n    apiPath.LOGIN = '../data/login.json'\n    apiPath.LOGOUT = '../data/logout.json'\n    apiPath.SIDENAVI = '../data/sideNavi.json'\n    apiPath.TOPNAVI = '../data/topNavi.json'\n    apiPath.MEMBERINFO = '../data/memberInfo.json'\n    \n}\n\n\nexport default apiPath\n\n   \n\n","import store, {createReducerWithActionName} from '../modules/store'\nimport api from '../modules/apiPath'\n\n\nconst apiAction = ({      \n    actionName = \"\",\n    url = \"\",    \n    method = \"GET\",        \n    data = null, // [\"GET\", \"DELETE\"].includes(method) ? \"params\" : \"data\"\n    accessToken = null,       \n    headers = null,\n    label = \"\"\n}) => {\n\n    if(actionName==='') return null\n    store.injectReducer(\n        actionName, \n        createReducerWithActionName(actionName)\n    )\n    return {\n        type: \"@@API\",\n        payload: {\n            url,\n            method,\n            data,\n            label,\n            actionName, \n            accessToken,\n            headers\n        }\n    }\n}\n\n\nexport const apiTopNavi = ({...obj}) =>{    \n    return apiAction({\n        actionName:'apiTopNavi',\n        url : api.TOPNAVI,\n        method : 'GET',\n        data : obj\n    });    \n}\n\nexport const apiSideNavi = ({...obj}) =>{   \n    return apiAction({\n        actionName:'apiSideNavi',\n        url : api.SIDENAVI,\n        method : 'GET',\n        data : obj\n    });    \n}\n\nexport const apiLogin = ({...obj}) =>{    \n    return apiAction({\n        actionName:'apiLogin',\n        url : api.LOGIN,\n        method : 'GET',\n        data : obj\n    });    \n}\n\nexport const apiLogout = ({...obj}) =>{        \n    return apiAction({\n        actionName:'apiLogout',\n        url : api.LOGOUT,\n        method : 'GET',\n        data : obj\n    });    \n}\n\nexport const apiMemberInfo = ({...obj}) =>{    \n    return apiAction({\n        actionName:'apiMemberInfo',\n        url : api.MEMBERINFO,\n        method : 'GET',\n        data : obj\n    });    \n}\n\n\n\n\n\n\n\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React from \"react\";\nimport \"./TopNavi.scss\";\n\nconst TopNaviList = React.memo(({ data }) => {\n  if (!data) return <ul></ul>;\n  const el = Object.entries(data).map(([key, value], i) => {\n    return (\n      <li key={i}>\n        <a href={value[0]}>{key}</a>\n      </li>\n    );\n  });\n  return <ul>{el}</ul>;\n});\n\nexport default TopNaviList;\n","import React, { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport TopNaviList from \"../components/TopNaviList/TopNaviList\";\nimport { apiTopNavi } from \"../actions/apiAction\";\n\nconst TopNaviContainer = () => {\n  const data = useSelector(\n    state => (state[\"apiTopNavi\"] ? state[\"apiTopNavi\"].result : {}),\n    []\n  );\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(apiTopNavi());\n    return () => {};\n  }, [dispatch]);\n\n  return (\n    <header className={\"topNavi\"}>\n      <TopNaviList data={data}></TopNaviList>\n    </header>\n  );\n};\n\nexport default TopNaviContainer;\n","// inspired by https://leanpub.com/redux-book\nimport axios from \"axios\";\n\n\n\nconst apiMiddleware = ({ dispatch }) => next => action => {\n\n  next(action);\n\n  if (action.type !=='@@API' ) return;  \n\n\n  const {\n    label,\n    actionName,\n    url,\n    method,\n    data,\n    accessToken,\n    headers\n  } = action.payload;\n  const dataOrParams = [\"GET\", \"DELETE\"].includes(method) ? \"params\" : \"data\";\n\n  // axios default configs\n  axios.defaults.baseURL = process.env.REACT_APP_BASE_URL || \"\";\n  axios.defaults.headers.common[\"Content-Type\"] = \"application/json\";\n  axios.defaults.headers.common[\"Authorization\"] = `${accessToken}`;\n\n\n  if(label){\n\n    dispatch({\n      type: `${actionName}_LOADING`,\n      payload:label\n    });\n  }\n\n  axios\n    .request({\n      url,\n      method,\n      headers,\n      [dataOrParams]: data\n    })\n    .then(({ data }) => {\n      dispatch({\n        type: `${actionName}_SUCCESS`,\n        payload: data\n      });  \n    })\n    .catch(error => {\n      dispatch({\n        type: `${actionName}_FAILURE`,\n        error        \n      });\n\n\n      if (error.response && error.response.status === 403) {\n        const url  = window.location.pathname;\n        dispatch({\n          type:  `${actionName}_ACCESS_DENIED`,\n          payload: {\n            url\n          }\n        })\n\n        \n      }\n    })\n    .finally(() => {\n      if(label){\n        dispatch({\n          type: `${actionName}_END`,\n          payload:label\n        });\n      }\n    });\n};\n\nexport default apiMiddleware;","import { combineReducers} from 'redux';\nimport axiosMiddleware from '../middleware/axios-middleware';\nimport { configureStore, getDefaultMiddleware } from 'redux-starter-kit'\nimport sideNaviReducer from '../reducers/sideNaviId';\n\n\nexport const createReducerWithActionName = (actionName = '') => {\n    return function requestApi(state = {}, action) {\n        switch (action.type) {\n            case `${actionName}_LOADING`:\n                return {...state, isLoading:true}\n            case `${actionName}_SUCCESS`:\n                return action.payload\n            case `${actionName}_FAILURE`:\n                return action.error\n            case `${actionName}_ACCESS_DENIED`:\n                    return action.payload\n            case `${actionName}_END`:\n                    return {...state, isLoading:false}\n            default:\n                return state\n        }\n    }\n}\n\nconst staticReducers = {\n    sideNaviId: sideNaviReducer\n}\n\nfunction createReducer(asyncReducers) {\n    return combineReducers({\n        ...staticReducers,\n        ...asyncReducers\n    })\n}\n\nconst middleware = [...getDefaultMiddleware(), axiosMiddleware];\nconst store = configureStore({reducer:staticReducers, middleware : middleware})\n\nstore.asyncReducers = {}\n\nstore.injectReducer = (key, asyncReducer) => {\n    if(!store.asyncReducers[key]){\n\n        store.asyncReducers[key] = asyncReducer\n        store.replaceReducer(createReducer(store.asyncReducers))\n    }else{\n        console.log('Can not use reducers with the same name.');\n    }    \n}\n\n\nexport default store;\n\n\n\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport TopNaviContainer from './containers/TopNaviContainer'\nimport store from './modules/store'\n\n\nconst Index = () => {  \n\n    return (\n      <Provider store={store}>       \n        <TopNaviContainer></TopNaviContainer> \n      </Provider>        \n    )\n \n}\n \nReactDOM.render(<Index/>, document.getElementById('root'));"],"sourceRoot":""}